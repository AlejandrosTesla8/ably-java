buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:1.3.1'
    }
}

allprojects {
  group = 'io.ably'

  repositories {
      mavenCentral()
      maven { url "https://raw.github.com/paddybyers/Java-WebSocket/mvn-repo/" }
  }
}

subprojects {
  version = '0.0.1-SNAPSHOT'
  description = """Ably java client library"""
}

project(':lib') {

  task testRealtimeSuite(type: Test) {
    include '**/RealtimeSuite.class'
    exclude '**/*Test.class'
    beforeTest { descriptor ->
      logger.lifecycle("Running test: " + descriptor)
    }
    outputs.upToDateWhen { false }
  }

  task testRestSuite(type: Test) {
    include '**/RestSuite.class'
    exclude '**/*Test.class'
    beforeTest { descriptor ->
      logger.lifecycle("Running test: " + descriptor)
    }
    outputs.upToDateWhen { false }
  }
}
